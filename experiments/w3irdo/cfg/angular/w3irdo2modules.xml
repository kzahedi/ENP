<?xml version="1.0"?>
<nmode version="0.0.2">

  <simulator
    wd="./experiments/w3irdo"
    xml="xml/w3irdo_angular_no_leg_contact_inverted.xml"
    nr="3"/>

  <visualisation>
    <offset value="30"/>
  </visualisation>

  <evaluation module="W3irdoNF">
    <lifetime    iterations="500"/>
    <generations iterations="100000"/>

    <cost        node="0.0"  edge="0.0"/>
    <parameter   name="bins" value="30"/>

    <parameter name="distance factor"    value="1.0"/>
    <parameter name="entropy factor"     value="0.0"/>
    <parameter name="oscillation factor" value="1.0"/>
    <parameter name="combination type"   value="add"/>
    <parameter name="measure"            value="PI"/>

    <parameter name="container 1"        value="0,1,2,3"/>
    <parameter name="container 2"        value="2,3,4,5"/>
    <parameter name="container 3"        value="4,5,6,7"/>
    <parameter name="container 4"        value="6,7,8,9"/>
    <parameter name="container 5"        value="9,10,11,12"/>
    <parameter name="container 6"        value="11,12,13,14"/>
  </evaluation>

  <reproduction>
    <population   size="10"/>
    <selection    pressure="0.1"/>
    <reproduction pressure="2.1"/>
  </reproduction>

  <mutation>
    <node>
      <modify probability="0.10" maximum="0.1" delta="0.01"/>
      <add    probability="0.10" maximum="0.1"/>
      <delete probability="0.10"/>
    </node>
    <edge>
      <modify probability="0.90" maximum="5.0" delta="0.5"/>
      <add    probability="0.90" maximum="1.0"/>
      <self   probability="0.10" maximum="1.0"/>
      <delete probability="0.50"/>
    </edge>
  </mutation>

  <configuration>
    <module name="module 1">

      <node type="sensor" label="angular sensor 1">
        <position x="6.0" y="1.0" z="0.5"/>
        <transferfunction name="id"/>
      </node>
      <node type="sensor" label="contact sensor 1">
        <position x="6.0" y="1.0" z="-0.5"/>
        <transferfunction name="id"/>
      </node>

      <node type="sensor" label="angular sensor 2">
        <position x="8.0" y="1.0" z="0.5"/>
        <transferfunction name="id"/>
      </node>
      <node type="sensor" label="contact sensor 2">
        <position x="8.0" y="1.0" z="-0.5"/>
        <transferfunction name="id"/>
      </node>

      <node type="sensor" label="angular sensor 3">
        <position x="10.0" y="1.0" z="0.5"/>
        <transferfunction name="id"/>
      </node>
      <node type="sensor" label="contact sensor 3">
        <position x="10.0" y="1.0" z="-0.5"/>
        <transferfunction name="id"/>
      </node>

      <node type="sensor" label="angular sensor 4">
        <position x="12.0" y="1.0" z="0.5"/>
        <transferfunction name="id"/>
      </node>
      <node type="sensor" label="contact sensor 4">
        <position x="12.0" y="1.0" z="-0.5"/>
        <transferfunction name="id"/>
      </node>

      <node type="sensor" label="angular sensor 5">
        <position x="14.0" y="1.0" z="0.5"/>
        <transferfunction name="id"/>
      </node>
      <node type="sensor" label="contact sensor 5">
        <position x="14.0" y="1.0" z="-0.5"/>
        <transferfunction name="id"/>
      </node>

      <node type="actuator" label="actuator 1">
        <position x="6.0" y="-1.0" z="0.0"/>
        <transferfunction name="tanh"/>
      </node>
      <node type="actuator" label="actuator 2">
        <position x="8.0" y="-1.0" z="0.0"/>
        <transferfunction name="tanh"/>
      </node>
      <node type="actuator" label="actuator 3">
        <position x="10.0" y="-1.0" z="0.0"/>
        <transferfunction name="tanh"/>
      </node>
      <node type="actuator" label="actuator 4">
        <position x="12.0" y="-1.0" z="0.0"/>
        <transferfunction name="tanh"/>
      </node>
      <node type="actuator" label="actuator 5">
        <position x="14.0" y="-1.0" z="0.0"/>
        <transferfunction name="tanh"/>
      </node>

      <node type="input" label="input 1">
        <position x="5.0" y="0.0" z="0.5"/>
        <transferfunction name="tanh"/>
      </node>

      <node type="output" label="output 1">
        <position x="5.0" y="0.0" z="-0.5"/>
        <transferfunction name="tanh"/>
      </node>
    </module>

    <module name="module 2">
      <copy name="module 1"/>
      <mirror    x="false" y="false" z="false"/>
      <rotate    x="0.0"   y="0.0"  z="120.0"/>
      <translate x="0.0"   y="0.0"  z="0.0"/>
    </module>

    <module name="module 3">
      <rotate    x="0.0"   y="0.0"  z="240.0"/>
      <translate x="0.0"   y="0.0"  z="0.0"/>

      <node type="sensor" label="angular sensor 1">
        <position x="6.0" y="1.0" z="0.5"/>
        <transferfunction name="id"/>
      </node>
      <node type="sensor" label="contact sensor 1">
        <position x="6.0" y="1.0" z="-0.5"/>
        <transferfunction name="id"/>
      </node>

      <node type="sensor" label="angular sensor 2">
        <position x="8.0" y="1.0" z="0.5"/>
        <transferfunction name="id"/>
      </node>
      <node type="sensor" label="contact sensor 2">
        <position x="8.0" y="1.0" z="-0.5"/>
        <transferfunction name="id"/>
      </node>

      <node type="sensor" label="angular sensor 3">
        <position x="10.0" y="1.0" z="0.5"/>
        <transferfunction name="id"/>
      </node>
      <node type="sensor" label="contact sensor 3">
        <position x="10.0" y="1.0" z="-0.5"/>
        <transferfunction name="id"/>
      </node>

      <node type="sensor" label="angular sensor 4">
        <position x="12.0" y="1.0" z="0.5"/>
        <transferfunction name="id"/>
      </node>
      <node type="sensor" label="contact sensor 4">
        <position x="12.0" y="1.0" z="-0.5"/>
        <transferfunction name="id"/>
      </node>

      <node type="sensor" label="angular sensor 5">
        <position x="14.0" y="1.0" z="0.5"/>
        <transferfunction name="id"/>
      </node>
      <node type="sensor" label="contact sensor 5">
        <position x="14.0" y="1.0" z="-0.5"/>
        <transferfunction name="id"/>
      </node>

      <node type="actuator" label="actuator 1">
        <position x="6.0" y="-1.0" z="0.0"/>
        <transferfunction name="tanh"/>
      </node>
      <node type="actuator" label="actuator 2">
        <position x="8.0" y="-1.0" z="0.0"/>
        <transferfunction name="tanh"/>
      </node>
      <node type="actuator" label="actuator 3">
        <position x="10.0" y="-1.0" z="0.0"/>
        <transferfunction name="tanh"/>
      </node>
      <node type="actuator" label="actuator 4">
        <position x="12.0" y="-1.0" z="0.0"/>
        <transferfunction name="tanh"/>
      </node>
      <node type="actuator" label="actuator 5">
        <position x="14.0" y="-1.0" z="0.0"/>
        <transferfunction name="tanh"/>
      </node>

      <node type="input" label="input 1">
        <position x="5.0" y="0.0" z="0.5"/>
        <transferfunction name="tanh"/>
      </node>

      <node type="output" label="output 1">
        <position x="5.0" y="0.0" z="-0.5"/>
        <transferfunction name="tanh"/>
      </node>
    </module>


    <module name="cpg">
      <node type="sensor" label="main body contact sensor">
        <position x="0.0" y="0.0" z="0.0"/>
        <transferfunction name="id"/>
      </node>

      <node type="connector" label="module 1/input 1"/>
      <node type="connector" label="module 1/output 1"/>

      <node type="connector" label="module 2/input 1"/>
      <node type="connector" label="module 2/output 1"/>

      <node type="connector" label="module 3/input 1"/>
      <node type="connector" label="module 3/output 1"/>

    </module>

  </configuration>

</nmode>

