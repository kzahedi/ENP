<?xml version="1.0"?>
<!--
     Test file for visualisation
-->
<enp version="0.0.2">
    <!-- xml="xml/w3irdo_angular.xml" -->
  <simulator
    wd="/Users/zahedi/projects/mpi/experiments/evo.w3irdo"
    xml="xml/w3irdo_force.xml"
    nr="3"/>
  <evaluation>
    <lifetime iterations="300"/>
    <!-- <cost     node="50.0" edge="100.0"/> -->
    <cost     node="0.0" edge="0.0"/>
  </evaluation>
  <reproduction>
    <population size="100"/>
    <selection  pressure="0.2"/>
  </reproduction>
  <evolution>
    <node>
      <modify probability="0.1" maximum="2.0" delta="0.2"/>
      <add    probability="0.05" maximum="1.0"/>
      <delete probability="0.1"/>
    </node>
    <edge>
      <modify probability="0.5" maximum="4.0" delta="0.5"/>
      <add    probability="0.3" maximum="1.0"/>
      <delete probability="0.325"/>
    </edge>
  </evolution>
  <configuration>
    <module name="module 1">

      <node type="sensor" label="seg 1 angle">
        <position x="2.0" y="1.0" z="-1.0"/>
        <transferfunction name="id"/>
      </node>
      <node type="sensor" label="seg 1 contact">
        <position x="2.0" y="1.0" z="1.0"/>
        <transferfunction name="id"/>
      </node>

      <node type="sensor" label="seg 2 angle">
        <position x="4.0" y="1.0" z="-1.0"/>
        <transferfunction name="id"/>
      </node>
      <node type="sensor" label="seg 2 contact">
        <position x="4.0" y="1.0" z="1.0"/>
        <transferfunction name="id"/>
      </node>

      <node type="sensor" label="seg 3 angle">
        <position x="6.0" y="1.0" z="-1.0"/>
        <transferfunction name="id"/>
      </node>
      <node type="sensor" label="seg 3 contact">
        <position x="6.0" y="1.0" z="1.0"/>
        <transferfunction name="id"/>
      </node>

      <node type="sensor" label="sensor 4 angle">
        <position x="8.0" y="1.0" z="-1.0"/>
        <transferfunction name="id"/>
      </node>
      <node type="sensor" label="sensor 4 contact">
        <position x="8.0" y="1.0" z="1.0"/>
        <transferfunction name="id"/>
      </node>

      <node type="sensor" label="sensor 5 angle">
        <position x="10.0" y="1.0" z="1.0"/>
        <transferfunction name="id"/>
      </node>
      <node type="sensor" label="sensor 5 contact">
        <position x="10.0" y="1.0" z="1.0"/>
        <transferfunction name="id"/>
      </node>

      <node type="actuator" label="actuator 1 force">
        <position x="2.0" y="-1.0" z="-1.0"/>
        <transferfunction name="sigm"/>
        <bias value="0.0"/>
      </node>
      <node type="actuator" label="actuator 1 velocity">
        <position x="2.0" y="-1.0" z="1.0"/>
        <transferfunction name="tanh"/>
        <bias value="0.0"/>
      </node>

      <node type="actuator" label="actuator 2 force">
        <position x="4.0" y="-1.0" z="-1.0"/>
        <transferfunction name="sigm"/>
        <bias value="0.0"/>
      </node>
      <node type="actuator" label="actuator 2 velocity">
        <position x="4.0" y="-1.0" z="1.0"/>
        <transferfunction name="tanh"/>
        <bias value="0.0"/>
      </node>

      <node type="actuator" label="actuator 3 force">
        <position x="6.0" y="-1.0" z="-1.0"/>
        <transferfunction name="sigm"/>
        <bias value="0.0"/>
      </node>
      <node type="actuator" label="actuator 3 velocity">
        <position x="6.0" y="-1.0" z="1.0"/>
        <transferfunction name="tanh"/>
        <bias value="0.0"/>
      </node>

      <node type="actuator" label="actuator 4 force">
        <position x="8.0" y="-1.0" z="-1.0"/>
        <transferfunction name="sigm"/>
        <bias value="0.0"/>
      </node>
      <node type="actuator" label="actuator 4 velocity">
        <position x="8.0" y="-1.0" z="1.0"/>
        <transferfunction name="tanh"/>
        <bias value="0.0"/>
      </node>

      <node type="actuator" label="actuator 5 force">
        <position x="10.0" y="-1.0" z="-1.0"/>
        <transferfunction name="sigm"/>
        <bias value="0.0"/>
      </node>
      <node type="actuator" label="actuator 5 velocity">
        <position x="10.0" y="-1.0" z="1.0"/>
        <transferfunction name="tanh"/>
        <bias value="0.0"/>
      </node>

      <node type="input" label="input 1">
        <position x="1.0" y="0.0" z="0.5"/>
        <transferfunction name="tanh"/>
      </node>
      <node type="output" label="output 1">
        <position x="1.0" y="0.0" z="-0.5"/>
        <transferfunction name="tanh"/>
      </node>

    </module>

    <module name="module 2">
      <copy name="module 1"/>
      <mirror    x="false" y="false" z="false"/>
      <rotate    x="0.0"   y="0.0"  z="120.0"/>
      <translate x="0.0"   y="0.0"  z="0.0"/>
    </module>

    <module name="module 3">
      <copy name="module 1"/>
      <mirror    x="false" y="false" z="false"/>
      <rotate    x="0.0"   y="0.0"  z="240.0"/>
      <translate x="0.0"   y="0.0"  z="0.0"/>
    </module>

    <module name="cpg">

      <node type="sensor" label="main body contact sensor">
        <position x="0.0" y="0.0" z="2.0"/>
        <transferfunction name="id"/>
      </node>

      <node type="connector" label="module 1/input 1"/>
      <node type="connector" label="module 1/output 1"/>

      <node type="connector" label="module 2/input 1"/>
      <node type="connector" label="module 2/output 1"/>

      <node type="connector" label="module 3/input 1"/>
      <node type="connector" label="module 3/output 1"/>

    </module>

  </configuration>
</enp>
